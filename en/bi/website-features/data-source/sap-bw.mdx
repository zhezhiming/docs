---
title: "SAP BW"
description: "SAP BW数据仓库连接配置"
---
The system supports connecting to the SAP BW system through the standard [XMLA](https://en.wikipedia.org/wiki/XML_for_Analysis) protocol interface, and then enhancing the BW model and creating a story dashboard. This article describes how to connect to the SAP BW system.

## Step 1. Get the XMLA service address of the SAP BW system

To find the XMLA service address of the SAP BW system, you can run the function module `RSBB_URL_PREFIX_GET` through the program **SE37** and enter the following parameters:

* I_HANDLERCLASS = `CL_RSR_MDX_SOAP_HANDLER`
* I_PROTOCOL = `HTTP` or `HTTPS`
* I_MESSAGESERVER =

The output result fields will have:

* E_URL_PREFIX = `https://[domain]:[port]`
* E_URL_PATH = `/sap/bw/xml/soap/xmla`
* E_URL_PROTOCOL = `http` or `https`
* E_URL_SERVER = `[domain]`
* E_URL_PORT = `[port]`
* E_SUBRC = `0`

### Check service availability

Access the address `[https | http]://[domain]:[port]/sap/bw/xml/soap/xmla?sap-client=[sap-client]` to see if the WSDL content of the XMLA service can be correctly returned.
If you cannot access it, please check the following possibilities:

* Check and enable the XMLA service of the SAP BW system: Open the SAP Client GUI to log in to the system, `TCODE: SICF > default_host > sap > bw`, right-click to activate the corresponding service node.
* Check whether the information such as protocol, port and client number corresponds and is correct;
* Ask the SAP system administrator whether your account has the corresponding permissions;

## Step 2. Create a SAP BW data source

1. Go to the data source configuration page, click New
2. Select **SAP BW (OLAP)** Type
3. Enter the following information (corresponding to the information in step 1.):

| Property | Value |
| ------------ | ----------------------- |
| Name | `XXXX` |
| Use local proxy | ✅ / ❎ |
| Host | `[domain]` |
| Port number | `[port]` |
| Path | `/sap/bw/xml/soap/xmla` |
| Use encrypted connection | ✅ / ❎ |
| Disable certificate verification | ✅ / ❎ |
| Username | `<Username>` |
| Password | `<Password>` |

Click Create or Save.

![SAP BW Data Source Configuration](/public/img/data-sources/sap-bw.png)

## Step 3. Test and use SAP BW data source

If you have enabled the use of local agent, you need to refer to [Local Agent](../../agent/local-agent) to download and run the local agent service.

## BW Objects

After connecting to the SAP BW data source, the Create Semantic Model dialog box will display a list of available directories in the selected server.

You will see a directory folder named **$INFOCUBE**. This folder contains all InfoProviders in the SAP BW system.

Other directory folders represent InfoProviders for which at least one query exists in SAP BW.

![SAP BW Catalog](/public/img/data-sources/bw-catalogs.png)

:::tip Tip

The Navigator displays InfoCubes and BEx queries. For BEx queries, you may need to go into Business Explorer, open the required query and check **Allow external access to this query: via OLE DB for OLAP** to get the query available in the Navigator.

:::

![Tiny Shadow](./enable-release.png)