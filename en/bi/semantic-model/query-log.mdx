---
title: 查询日志
sidebar_position: 11
tags:
  - MDX
  - SQL
---

**查询日志** 功能，帮助用户更全面地监控和分析语义模型的查询情况。此功能记录所有查询的详细信息，包括查询状态、执行时间、查询参数及结果等。用户可以在界面上查看查询日志，以便优化查询性能、排查问题并提高系统稳定性。

## 功能特点

1. **全局查询日志管理（开发中）**：记录所有查询请求，支持按模型、查询状态等条件筛选。
2. **可视化日志界面**：在语义模型中新增查询日志页面，直观呈现查询执行情况。
3. **性能监控**：提供 `executionTime` 和 `waitingTime` 指标，帮助用户分析查询响应速度。
4. **错误追踪**：日志中包含 `error` 字段，方便开发者和管理员排查问题。
5. **历史记录查询**：支持存储和查询历史日志，便于优化查询策略。
6. **日志自动清理机制**：根据策略（30天限制）自动清理过期日志。

![模型查询日志](/public/img/models/model-query-logs.png)

## 查询日志界面

在语义模型中的“管理”菜单中提供了一个专门的 **查询日志页面**，用户可以：

- **筛选日志**：按语义模型、查询状态、执行时间等条件筛选。
- **查看详情**：点击日志项，展开查看完整查询参数、执行结果和错误信息。
- **复制日志**：复制日志中的查询信息，参数、查询语句以及结果以便进一步分析。

## 使用场景

1. **性能优化**：通过分析 `executionTime` 和 `waitingTime`，识别慢查询并优化模型。
2. **问题排查**：遇到查询失败时，可查看 `error` 字段快速找到原因。
3. **数据合规性审查**：查询日志可用于记录和审计数据访问情况。

## 未来计划

在后续版本中，我们计划进一步增强查询日志功能，包括：

- **实时监控面板**：提供查询统计和趋势分析。
- **告警通知**：当查询失败率过高时，触发告警通知管理员。

## 结论

XpertAI 的 **查询日志** 功能为用户提供了强大的查询监控和分析能力，能够帮助优化语义模型查询性能，提高系统稳定性，并增强故障排查能力。欢迎用户体验并提供反馈，以便我们不断改进和优化此功能。
