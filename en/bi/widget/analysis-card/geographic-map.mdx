---
title: Geographic Map
sidebar_position: 21
---

:::info

**Geographic Map** (also called **Geographic Chart**) is an ideal visualization tool for different data across states, countries, or regions. Geographic maps show readers a heat map of values distributed across various regions of the map. For example, on a U.S. map, areas with higher population density can be displayed in darker colors, while sparsely populated areas are displayed in lighter shades of the same hue.

:::

<iframe src="https://app.mtda.cloud/public/story/widget/1381f45a-ded7-44d1-8a44-31d0ef5b0a70" width="100%" height="500px" frameBorder="0" scrolling="no" allowFullScreen> </iframe>

## Geographic Information

Before creating geographic charts, you need to prepare the required geographic files. For example, U.S. geographic files can be found at [U.S. Atlas TopoJSON](https://github.com/topojson/us-atlas) for browser-downloadable geographic file links.

Select the chart type as **Geographic Map** (GeoMap), and click the map button on the right to set geographic information:

![Small Shadow](./geomap-info.png)

Enter map name: Keep it unique.

Geographic file link: Enter the link address of the geographic file.

Geographic data files support two standard formats:

* [GeoJSON](https://en.wikipedia.org/wiki/GeoJSO) **used by default**, 
* [TopoJSON](https://github.com/topojson/topojson) Check **Is TopoJSON Format** and enter the property names to use in the Feature object name input box, separated by `,`. Feature object names can be found under the `objects` property in the file content JSON.

Map projection: If needed, you can specify a particular map projection algorithm. Algorithm list can be referenced at [d3-geo-projection](https://github.com/d3/d3-geo-projection).

## Choropleth Map

:::info

A [Choropleth Map](https://en.wikipedia.org/wiki/Choropleth_map) displays divided geographical areas or regions that are coloured in relation to a numeric variable. It allows to study how a variable evolutes along a territory. It is a powerful and widely used data visualization technique. However, its downside is that regions with bigger sizes tend to have a bigger weight in the map interpretation, which includes a bias.

:::

### Data Mapping

To display data distribution information on a geographic map, you need to correspond data dimensions with geographic information.

The primary dimension member name values correspond to the `name` property values in the Properties of Feature objects in geographic information.

### Visual Mapping

Choropleth maps express differences in values within regions through different colors. In most cases, color gradients are used to express linear gradients of values.

To set the choropleth color sequence, open the measure's more button, select **Style**, select **Color Palette**, choose a color sequence, and the chart will display as a corresponding color choropleth map. The color sequence from left to right corresponds to measure values from small to large. Selecting **Reverse** can reverse the color sequence to correspond to measure values from large to small.

![Middle Shadow](./color-schemes.png)

More detailed settings about visual mapping can be set by enabling the **Visual Mapping** property group. For example, to eliminate the impact of maximum (or minimum) values that deviate significantly from the main values on overall color distribution, causing most colors to be too similar, you can normalize by setting the maximum (or minimum) value property of visual mapping.

![Small Shadow](./visualMap.png)

## Chart Transformation

To better display data distribution, adding other chart displays on top of geographic charts can achieve different effects. Add chart types in **Chart Variants** under **Chart Configuration**, and chart type selection options will appear on the chart component.
Click chart selection to switch between different chart displays.

Enabling **Global Transition Animation** in chart configuration allows continuous transformation of elements between charts.

<iframe src="https://app.mtda.cloud/public/story/widget/afae8fea-1a17-4d37-90bc-f908ef28fd15" width="100%" height="500px" frameBorder="0" scrolling="no" allowFullScreen> </iframe>


参考:

* https://github.com/deldersveld/topojson
* https://github.com/tmcw/awesome-geojson
