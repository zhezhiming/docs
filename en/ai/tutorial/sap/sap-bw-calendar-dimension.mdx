---
title: SAP BW Calendar Dimension
sidebar_position: 4
tags:
  - MDX
  - SAP
  - BW
---

## Introduction to the Calendar Dimension

In a multidimensional dataset (Cube), the [Calendar Dimension](../../models/mdx-modeling/calendar-dimension) is a critical dimension used to represent and organize time-related data. The calendar dimension provides a structured time framework, enabling users to slice and analyze data by time periods. Typical calendar dimensions include levels such as year, quarter, month, week, and day, as well as other related time attributes like fiscal year, fiscal quarter, and workdays.

The calendar dimension plays a vital role in data analysis and business intelligence because most business data involves time factors. By using the calendar dimension, users can easily perform the following tasks:

1. **Time Series Analysis**: Analyze trends and patterns over different time periods, such as changes in monthly sales or quarterly profit growth.
2. **Year-over-Year (YoY) and Month-over-Month (MoM) Analysis**: Compare data across different time periods, such as comparing performance this year to the same period last year (YoY) or this month to last month (MoM).
3. **Time Aggregation**: Aggregate fine-grained data to higher levels, such as aggregating daily data into monthly or yearly data for macro-level analysis.
4. **Rolling Time Analysis**: Analyze data over rolling time windows, such as sales trends over the last 12 months or moving averages.
5. **Metric Trends**: Automatically analyze metric trends and cumulative values over time.

The calendar dimension helps businesses better understand their time dynamics and supports decision-makers in making more accurate business decisions based on time dimensions. For example, in sales analysis, businesses can identify seasonal sales fluctuations through the calendar dimension and develop appropriate market strategies. In financial analysis, businesses can track quarterly and annual financial performance and evaluate the achievement of financial goals.

## Calendar Dimension in BW System

### Step 1: Check Existing Time Characteristic InfoObjects

First, check if common time characteristic InfoObjects such as `0CALDAY` and `0CALMONTH` already exist in the system. These characteristics are usually predefined and included in the system.

- `0CALDAY`: Represents a specific date.
- `0CALMONTH`: Represents a specific month.

In the BW system, the time characteristic `0CALDAY` references the InfoObject `0DATE`.

### Step 2: Create Time Characteristic InfoObjects (If Not Existing)

If the required time characteristic InfoObjects do not exist in the system, you need to create them manually. You can refer to the existing InfoObject `0DATE` to create these time characteristics. Here are the steps to create `0CALDAY`:

1. **Open SAP BW Modeling Tools** (based on Eclipse) and connect to the BW system.
2. **Create InfoObject**:
   - Right-click the appropriate InfoObject Catalog, and select `New` -> `InfoObject`.
   - Enter the name (e.g., `ZCALDAY`) and description.
   - Select the type as `Characteristic`.
   - Set the data type to `DATS` (date format) and length to `8`.
   - Check `Time Characteristics`.

3. **Define Attributes**:
   - In the `Attributes` tab, add necessary time attributes such as `0CALMONTH` and `0CALYEAR`.

4. **Activate InfoObject**: Verify all settings, and then click `Save` and `Activate`.

### Step 3: Check Time Characteristic Data Tables

After creating the InfoObject, check whether these time characteristic data tables already contain data:

- **SID Table (S Table)**: Stores the InfoObject's Surrogate ID and key-value pairs.
- **Attribute Table (P Table)**: Stores master data records and their attribute values.
- **Hierarchy Attribute Table (X Table)**: Stores hierarchy-related attribute data.

### Step 4: Generate Time Data

If the data tables for time characteristics such as `0CALDAY` do not contain data, use transaction code `RSRHIERARCHYVIRT` to generate time data for a specified period.

1. **Enter transaction code `RSRHIERARCHYVIRT`**.
2. **Define Time Interval**: Set the time interval for which data needs to be generated.
3. **Generate Data**: Execute the generation operation to populate data in the SID table, P table, and X table.

Refer to [Time Characteristics: 0CALDAY](https://help.sap.com/docs/SUPPORT_CONTENT/bwplaolap/3361384637.html) for more details.

### Step 5: Assign Time Characteristics to InfoProviders

Finally, assign the created time characteristic InfoObjects to the appropriate InfoProviders, such as DataStore Objects (DSO) or InfoCubes.

1. **In BW Modeling Tools**, select the InfoProvider to which you want to assign time characteristics.
2. **Edit InfoProvider Structure**:
   - Add time characteristic InfoObjects (such as `0CALDAY`, `0CALMONTH`) to the InfoProvider structure.
   - Set the time characteristics as key fields or data fields, depending on the requirement.

3. **Activate InfoProvider**: Verify all configurations, then click `Save` and `Activate`.

## Semantic Model Enhancement

To utilize more features of the calendar dimension in the metabase analysis cloud system, enhance the semantics of the existing BW Cube's calendar dimension in the semantic model. Add the BW Cube to the semantic model entity, drag the calendar dimension from the source fields to the dimension area, and set the calendar dimension and its hierarchical attributes. Enable its semantic attributes and set the semantic type to the appropriate type, such as setting the year level to `Calendar Year` type with the corresponding format string.

The format string should be set according to the actual format of the member keys in the model dimension, such as `[yyyy].['Q'Q].[M].[yyyy-MM-dd]`.

The semantically enhanced model can then be freely used in the metabase analysis cloud system, involving calendar dimension scenarios in the following components (not limited to):

- [Difference Calculation for Calculated Members](../../stories/calculations/#5-差值度量-difference-from)
- [Calendar Dimension in Indicator Registration](../../indicators/register#注册指标)
- [Filter Bar in Story Widgets](../../widgets/filter-bar/calendar-select/)
- [Input Control in Story Widgets](../../widgets/input-control/calendar/)

## Conclusion

By following these steps, you can create and configure a calendar dimension in the SAP BW system and assign it to InfoCubes or other InfoProviders. This process ensures that time characteristics can be correctly applied to data models, providing support for further time analysis and reporting. The calendar dimension helps businesses better understand their time dynamics and supports accurate business decisions based on time dimensions.