---
title: 桑基图
sidebar_position: 9
tags:
    - Hierarchy
---

**桑基图** (Sankey Diagram)，是一种特定类型的流图，用于描述一组值到另一组值的流向。

桑基图的特点如下：

* 起始流量和结束流量相同，所有主支宽度的总和与所有分出去的分支宽度总和相等，保持能量的平衡；
* 在内部，不同的线条代表了不同的流量分流情况，它的宽度成比例地显示此分支占有的流量；
* 节点不同的宽度代表了特定状态下的流量大小。

创建桑基图有两个数据展示方式:

* 多个维度之间的流量关系.
* 一个维度层次结构的流量关系.

## 多维度之间

选择图形类型为桑基图 (Sankey), 并设置一个度量, 和多个维度.

![Small](./sankey-dimensions-attributes.png)

这种方式展现的是不同维度成员之间的度量关系.

![Middle Shadow](./sankey-dimensions.png)

### 图形方向

可以设置图形的方向属性改变桑基图的横向或纵向显示.

## 一个维度层次结构

还可以为桑基图只设置一个层次结构的度量进行展示.

选择一个维度, 选择一个要展示的最细层级并设置其属性 **包含父级层级**, 数据将计算出此层级及其所有父级成员的层次结构数据.

![Small](./sankey-hierarchy-attributes.png)

展示层次结构的桑基图:

![](./sankey-hierarchy.png)

<!-- ### 包含 All 成员

判断层次结构是否已经包含有 **All 成员**, 如果有 All 成员可以设置桑基图的 **系列样式** 中的 **有 All 成员** 属性, 那么桑基图不在新增一个 All 节点. 否则桑基图会自动为数据添加一个 All 节点. -->

## 示例

<iframe src="https://app.mtda.cloud/public/story/point/7c440106-a90e-4014-8279-698ff9c2d239" width="100%" height="1000px" frameBorder="0" scrolling="no" allowFullScreen> </iframe>
