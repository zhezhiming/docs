---
title: 长期记忆
sidebar_position: 5
---

## 论记忆

AI 记忆指的是处理、存储和有效调用过去交互信息的能力。这让智能系统能够从反馈中学习并适应用户偏好。记忆可分为两种类型：短期记忆和长期记忆。

- **短期记忆**（会话线程范围内的记忆）：在单个会话线程中，系统可以随时调用短期记忆。管理短期记忆作为智能体状态的一部分，并通过检查点机制将状态持久化到数据库，支持会话的随时恢复。短期记忆会在流程执行或步骤完成时更新，并在每个步骤开始时被读取。

- **长期记忆**（跨线程共享的记忆）：长期记忆适用于多个会话线程，可以随时、在任意线程中调用。它不受限于单个线程 ID，而是可按自定义命名空间范围存储和调用。Xpert AI 提供存储功能，用于保存和检索这些长期记忆。

目前，大多数 AI 应用像“金鱼”一样，无法记住对话间的信息。这种短视不仅低效，也限制了 AI 的能力范围。 

## 跨会话记忆

跨会话记忆是一种允许 AI 智能体在不同的对话线程之间存储和检索信息的机制。这意味着，智能体可以在多次会话中保留上下文、用户偏好和历史信息，从而提供更智能、更个性化的交互体验。

## 如何配置长期记忆

此项配置控制如何将从对话中提取信息并存储到长期记忆中。

**记忆类型** 分为 *用户档案*，*问答* 和 *自定义* 三种类型。

### 用户档案

- **间隔秒数**：设置在对话结束后多少秒执行信息提取操作。默认为 10 秒，这意味着在用户和 Xpert 停止交互 10 秒后，系统将为会话创建提取信息的后台任务。
- **提示词**：用于指导系统如何从对话中提取信息，未提供则系统使用默认的提示词。

![Config Long-term memory](/public/img/ai/feature-long-term-memory.png)

### 问答

**问答** 式总结记忆，在用户点赞回答时，将会话中的问题和回答提炼出来存储到长期记忆中。

### 自定义记忆

**自定义** 记忆是用户自定义的记忆类型，用户可以自定义提取信息的规则。

:::warning 🚧
开发中
:::

## 管理记忆

管理页面是集中管理和维护 Xpert 记忆数据的操作界面。

- 分数：是在语义搜索时，用于计算相似度的程度（0 - 1）。
- 创建人：是记忆的拥有者。
- 值：是记忆的内容，以 JSON 格式存储。

![Manage xpert memory](/public/img/ai/xpert-long-term-memory.png)

在该页面可以删除某条或者清空该专家的所有记忆。

**语义搜索测试** 用于测试与提问问题相关的记忆检索情况。