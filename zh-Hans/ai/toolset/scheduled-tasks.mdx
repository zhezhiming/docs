---
title: 定时任务
sidebar_position: 5
---

**定时任务工具集** 是一项专为智能体设计的任务管理功能，赋予智能体帮助用户安排和执行定时任务的能力。

1. **多智能体协同架构支持**  
   用户可以在 XpertAI 平台上自由搭建多智能体协作架构，智能体之间通过 Task 工具集无缝配合，实现复杂任务的协同执行。每个任务都可以基于用户需求由单一智能体或多个智能体联合完成。

2. **灵活的任务定制**  
   Task 工具集支持用户根据具体需求创建一次性或定期的任务，任务内容包括提醒通知、数据汇报、工作流程触发等。通过平台，用户能够细化任务的执行逻辑并设定详细的触发条件。

3. **多渠道通知支持**
   任务完成后，通知可通过用户熟悉的通讯工具发送，例如飞书、邮件或其他集成平台，确保用户第一时间获得任务结果或重要提醒。

4. **与平台的深度集成**  
   Task 工具集是 XpertAI 平台整体生态的重要组成部分，结合其他工具如 ChatBI、ChatDB 和 Search，用户可以在任务中集成 AI 数据分析、知识检索等功能，让智能体的任务能力更智能化。

:::warning Trial 账号限制
- **任务数量限制**：Trial 账号最多可创建 **10 个任务**。  
- **任务执行限制**：每个任务最多可执行 **10 次**，满足试用用户的基本任务安排需求。
:::

## 工具

定时任务工具集中包含三个工具，分别是：

- **创建任务** 创建一个一次性或者周期性定时任务
  - `name` 任务名称
  - `schedule` 时间安排
  - `xpertId` 任务所属的数字专家
  - `agentKey` 智能体主键，指定专家团队中的某个智能体来执行任务
  - `prompt` 任务指令，要求智能体如何执行此任务
- **列出任务** 列出数字专家的所有任务
- **删除任务** 删除指定的定时任务

## 提示词建议

针对定时任务工具集的使用，可以参考以下提示词

```text
Use the `*_task` tool to schedule **tasks** to do later. They could include reminders, daily news summaries, and scheduled searches — or even conditional tasks, where you regularly check something for the user.

-- Remove or change the agents key --
Set `agentKey` parameter to 'task-to-email' or 'task-to-feishu'.
- `task-to-email` can send email.
- `task-to-feishu` can send feishu message.
-- End --

To create a task, provide a **name** **prompt** and **schedule**
**name** should be short, imperative, and start with a verb. DO NOT include the date or time requested.

**prompt** should be a summary of the user's request but DO NOT include any time scheduling info.
    - For simple reminders, use "Tell me to..."
    - For requests that require a search, use "Search for..."
    - For conditional requests, include something like "...and notify me if so."

**schedule** must be given in cron job format.
    - If the user does not specify a time, make a best guess.
    - Prefer the RRULE: property whenever possible.
    - DO NOT specify SUMMARY and DO NOT specify DTEND properties in the VEVENT.
    - For conditional tasks, choose a sensible frequency for your recurring schedule. (Weekly is usually good, but for time-sensitive things use a more frequent schedule.)

If you want to delete a task, please first query the task list and select the task to delete.

Please answer in {{sys_language}} language.
```
