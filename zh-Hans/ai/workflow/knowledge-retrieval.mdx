---
title: 知识检索
sidebar_position: 21
---

**知识检索** 节点是 XpertAI 智能体工作流中的核心能力之一，为用户输入的问题提供高相关度的信息支持。它可自动从已构建的知识库中查找与问题语义相关的内容片段，并将其作为上下文输入，供下游智能体进行理解、分析和生成。

## 主要能力

| 功能        | 描述                                |
| --------- | --------------------------------- |
| 🔍 语义匹配   | 自动识别用户输入的核心意图，查找语义上最相关的知识片段       |
| 📂 内容支持   | 支持结构化和非结构化文档内容的检索，如制度文档、FAQ、产品手册等 |
| 🎯 精准召回   | 支持多条相关内容的召回，便于下游节点综合判断            |
| 🔄 可组合性   | 可与任何语言模型节点（如推理模型）灵活组合，构成复杂任务流     |
| 🔗 多知识源支持 | 可配置多个知识库，实现分业务、多领域的信息调用           |

## 使用方式

### 1. 输入参数

知识检索节点接收上游节点的输入，通常为用户的自然语言问题，也可以是智能体处理过的标准化查询语句。

```json
{
  "question": "公司的调休规则是怎样的？"
}
```

### 2. 输出结构

知识检索节点将返回一个文档列表，结构符合 Langchain 中 `Document` 对象的格式。每个文档包含两部分内容：

* `page_content`: 实际检索到的文本内容
* `metadata`: 与该内容相关的元数据（如来源、文档名、分段索引等）

** 📄 输出示例 **：

```json
[
  {
    "pageContent": "根据公司制度，员工可在加班后5个工作日内申请调休。",
    "id": "123",
    "metadata": {
      "source": "HR_Employee_Policy_v3.pdf",
      "section": "调休政策",
      "page": 12
    }
  },
  {
    "pageContent": "调休申请需经直属上级审批，时长不得超过实际加班时长。",
    "id": "456",
    "metadata": {
      "source": "HR_Employee_Policy_v3.pdf",
      "section": "调休政策",
      "page": 12
    }
  }
]
```

该结构便于下游语言模型节点（如 Deepseek R1）使用原始内容和上下文信息进行高质量的问答生成、总结、归纳或逻辑推理。

## 典型应用场景

* **企业内部问答助手**：如人事制度、IT支持、费用报销流程等
* **客户服务智能助理**：产品功能说明、故障处理流程
* **项目知识辅助**：帮助项目成员快速理解背景信息或历史经验
* **法律/合规咨询机器人**：从规范文档中提取解释性内容

## 推荐组合节点

知识检索节点通常与以下节点配合使用，以构成完整的智能体任务链：

| 搭配节点                     | 作用                        |
| ------------------------ | ------------------------- |
| 🎯 推理模型节点（如 Deepseek R1） | 对检索内容进行深度理解和逻辑判断，生成更专业的回答 |
| 🧠 Prompt生成节点            | 对用户输入进行改写，提升检索准确性         |
| 📝 格式化节点                 | 美化输出结果，使回答更清晰易读           |
| 🚀 输出节点                  | 将结果发送至用户交互界面，如飞书、Web聊天窗口等 |

## 注意事项

* 请确保相关知识库已完成内容入库并可用
* 对于多语言内容，请预先配置相应语言支持的知识库
* 检索内容量可在节点设置中自定义（如返回前 3 条、前 5 条等）

---

## 结语

:::tip
**知识检索**节点是连接“用户提问”与“智能回答”的桥梁。
:::

它不仅提供事实依据，更为智能体的理解与表达提供了可信的语义支撑。在 XpertAI 工作流中，借助知识检索，您的智能体将更具上下文感知能力和业务专业性。

如需进一步了解知识库的构建与维护，请参阅《[知识库管理](/docs/ai/knowledge/)》。
