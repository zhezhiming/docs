---
title: 智能体工具
sidebar_position: 32
---

**智能体工具（Agent Tool）节点** 是 XpertAI 平台 Workflow 中可以作为 **Agent 的一个可调用工具**，在被触发后执行一段预定义的 **子工作流（Sub-Workflow）** 来完成特定任务。

相比于 `Task Handover` 节点的**单次任务交接**模式，**智能体工具节点** 可以在调用后：

* 执行多步骤、复杂的子流程
* 调用多个功能节点
* 根据任务结果继续分支或循环处理

这使得它非常适合需要 **多环节处理、复杂逻辑编排** 的场景。

---

## **工作机制**

1. **工具注册与调用**

   * 智能体工具节点可以被任意上级 Agent 注册为“可用工具”。
   * 上级 Agent 在处理任务时，可主动调用该工具节点执行特定任务。

2. **连接子工作流**

   * 智能体工具节点不仅可以连接单个后续节点，还可以连接多个节点形成 **完整的子工作流**。
   * 子工作流中可以包含：

     * 数据处理节点
     * 计算与分析节点
     * 外部 API 调用
     * 文件/数据库操作
     * 其他智能体交互

3. **任务上下文传递**

   * 调用时，智能体工具节点会接收上游 Agent 传入的上下文信息（任务内容、变量、历史记录等）。
   * 在子工作流内，所有节点都可以访问和使用这些上下文信息。

4. **任务完成与结果回传**

   * 子工作流执行完毕后，智能体工具节点会将处理结果回传给调用的 Agent 或继续传递给主工作流的后续节点（如果此工具为终点）。

---

## **配置说明**

在 Workflow 编辑器中添加 **智能体工具（Agent Tool）** 节点后，可进行如下配置：

| 配置项        | 说明                  |
| ---------- | ------------------- |
| **节点名称**   | 自定义该节点在工作流中的显示名称    |
| **节点描述**   | 自定义该节点在工作流中的描述信息    |
| **工具名称**   | 供 Agent 调用时参考的工具名称  |
| **工具描述**   | 供 Agent 调用时参考的功能说明  |
| **输入参数**   | 定义调用时可传入的变量和数据      |
| **子工作流结构** | 配置连接的子节点及其执行逻辑      |
| **终点**   | 定义此工具为智能体终点，若为终点则智能体响应结束或流转至智能体后续节点 |

---

## **使用场景示例**

### **1. 数据处理与分析工具**

* 主 Agent 接收到“生成市场分析报告”的任务
* 调用智能体工具节点执行子工作流：

  1. 数据采集节点 → 获取原始数据
  2. 数据清洗节点 → 去除异常值
  3. 可视化生成节点 → 输出图表

### **2. 自动化内容生成工具**

* 主 Agent 负责策划营销方案
* 调用智能体工具节点执行：

  1. 生成文案节点 → 输出初稿
  2. 语言润色节点 → 优化表达
  3. 图片生成节点 → 提供配图

### **3. 业务审批子流程**

* 主 Agent 接收到“请假申请”任务
* 调用智能体工具节点执行：

  1. 检查请假余额
  2. 发送审批请求
  3. 通知申请人审批结果

---

## **优势**

* **高度可扩展**：支持任意复杂度的子工作流
* **多功能集成**：可调用外部 API、数据库和其他工具
* **上下文完整性**：保证子工作流中的任务与主流程信息一致
* **可复用性**：一个智能体工具节点可被多个不同 Agent 调用

---

## **最佳实践**

1. 在设计智能体工具节点时，将功能目标定义清晰，避免逻辑过于分散。
2. 子工作流中应尽量使用可复用的功能节点，方便跨场景调用。
